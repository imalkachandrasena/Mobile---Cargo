<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Products - Apple 01 | Online Mobile Phone Market Place</title>
    <link rel="stylesheet" href="Appleone.css">
    <link rel="shortcut icon" href="Images/Mobile - Cargo logo.png">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="cart.js" async></script>
</head>
<body >
    <section id="header">
        <a href="index.html"><img src="Images/Mobile - Cargo logo.png" class="logo"></a>

        <div>
            <ul id ="navbar">
                <a href="index.html"><li>Home</li></a>
                <a href="products.html"><li>Products</li></a>
                <a href="contact.html"><li>Contact</li></a>
                <a href="cart.html"><li>Cart</li></a>
                <a href="account.html"><li>Account</li></a>
            </ul>
        </div>
    </section>

    <section class="upperbanner">
        <h1>#Choose_Your_Product</h1>
        <h5>Save more with our Gifts and Discounts</h5>
    </section>

    <section class="product-detail" id="bodyid">
        <form action="" id="form">
            <div class="product-details" >
                <div class="product">
                    <div class="image">
                        <img src="Images/product-images/apple-iphone-14_1.jpg" width="100%" id="product-img" class="product-image">
                        <div class="magnifier-lens">
                        </div>
                    </div>
                    <div class="small-imgs">
                        <div class="small-image-cols">
                            <img src="Images/product-images/apple-iphone-14_1.jpg" width="100%" class="small-img">
                        </div>
                        <div class="small-image-cols">
                            <img src="Images/product-images/Apple-iPhone-14_2.jpg" width="100%" class="small-img">
                        </div>
                        <div class="small-image-cols">
                            <img src="Images/product-images/apple-iphone-14_3.jpg" width="100%" class="small-img">
                        </div>
                        <div class="small-image-cols">
                            <img src="Images/product-images/Apple-iPhone-14-4.jpg" width="100%" class="small-img">
                        </div>
                    </div>
                </div>
                <div class="details">
                    <p>Home / Products / Apple brand</p>
                    <h2 class="product-title">Apple iPhone 14</h2>
                    <ul type="disc">
                        <li>A15 Bionic Chip</li>
                        <li>Longest Battery Life Ever</li>
                        <li>Aerospace - grade aluminum</li>
                        <li>Emergency SOS via Satellite</li>
                        <li>Crash Detection</li>
                        <li><b>With 01 Year Local + International Warranty.</b></li>
                    </ul>
                    <h3>Price: <span class="product-price">Rs.344990.99</span></h3>
                    <br><br>
                    <p style="font-size: 20px;">Instalment plans starting from:</p>
                    <div class="loanpart">
                        <div class="partone">
                            <div class="bank">
                                <img src="Images/product-images/commercial.png">
                                <p><b>Rs.17,105.75/month</b></p>
                                <span>More Information</span>
                            </div>
                            <div class="bank">
                                <img src="Images/product-images/sampath-logo.jpg">
                                <p><b>Rs.17,105.75/month</b></p>
                                <span>More Information</span>
                            </div>
                        </div>
                        <div class="parttwo">
                            <div class="bank">
                                <img src="Images/product-images/HNB.jpg">
                                <p><b>Rs.17,105.75/month</b></p>
                                <span>More Information</span>
                            </div>
                            <div class="bank">
                                <img src="Images/product-images/boc.jpg">
                                <p><b>Rs.17,105.75/month</b></p>
                                <span>More Information</span>
                            </div>
                        </div>   
                    </div> 
                    <div class="magnified-img"></div>
                    <p style="font-size: 18px; font-family: Verdana, Geneva, Tahoma, sans-serif;"><i class="fa fa-truck"></i>Islandwide Delivery (5-7 days)</p>
                </div>
            </div>
            <div class="color-amount">
                <form action="">
                    <p>Choose your Capacity:</p>
                    <select id="Capacity">
                        <option>Choose an option</option>
                        <option>128GB</option>
                        <option>256GB</option>
                        <option>512GB</option>
                    </select>
                    <p>Choose your Colour:</p>
                    <select id="Color">
                        <option>Choose a colour</option>
                        <option>(Product)RED</option>
                        <option>Blue</option>
                        <option>Midnight</option>
                        <option>Starlight</option>
                    </select><br>
                    <button type="reset">Clear</button>
                </form>
            </div>
            <div class="buy-or-cart"> 
                <p>Quantity:</p><input type="number" id="quantity" class="input-text qty text" step="1" min="1" max="9" value="1" title="Qty" pattern="[0-9]*" inputmode="numeric">
                <button type="submit" class="cartbtn">Add to Cart</button>
            </div>      
        </form>
    </section>

    <section class="discrip">
        <h2 id="text">Discription</h2>
        <hr id="hr" noshade="none" align="right">
        <div class="dis">
            <iframe src="https://www.gsmarena.com/apple_iphone_14-11861.php" scrolling="no" class="iframecontain"></iframe>
        </div>
        
    </section>

    <section class="related">
        <h2>Related Products</h2>
        <hr noshade="none">
        <div class="flex">
            <div class="related-product">
                <a href="appleproducttwo.html">
                    <img src="Images/product-images/Apple-iPhone-14-pro-1.jpg" width="300px"
                    height="300px">
                    <h4>Apple iPhone 14 Pro</h4>
                    <h5>Rs.490,000.99</h5>
                </a>
            </div>
            <div class="more">
                <h1>More Products will come soon</h1>
            </div>
        </div>
    </section>

    <section id="fotter-banner">
        <div id="follow">
            <h4>Follow Us</h4>
            <a href="https://web.facebook.com/?_rdc=1&_rdr"><i class="fa fa-facebook" aria-hidden="true"></i></a>
            <a href="https://www.instagram.com/accounts/login/"><i class="fa fa-instagram" aria-hidden="true"></i></a>
            <a href="https://www.youtube.com/"><i class="fa fa-youtube-play" aria-hidden="true"></i></a>
        </div>
    </div>
    <div id="col">
        <h4>Contacts</h4>
        <p><strong>Address:</strong>XXXX, XXXXXX Road, XXXXXX ,XXXXXX XX.</p>
        <p><strong>Phone:</strong>07x-xxxxxxx / 07x-xxxxxxx</p>
        <p><strong>Hours:</strong>09.00 - 18.00 Mon - Sat (Online - 24/7 Hours)</p>
    </div>
    <div id="col">
        <h4>My Account</h4>
        <a href="account.html">Sign In</a>
        <a href="cart.html">View Cart</a>
    </div>
    <div id="col">
        <h4>Quick Links</h4>
        <a href="products.html">Special Offers</a>
        <a href="products.html">Gift Cards</a>
    </div>
    </section>

    <footer id="fotter">
            <div>
                <p>Copyright &copy; 2022 Mobile - Cargo All Rights Reserved.</p>
            </div>
            <div>
                <p>Design By Imalka Chandrasena (Student - HNDIT 2020/21 batch)</p>
            </div>
    </footer>

    <script>
        var Productimg = document.getElementById("product-img");
        var Smallimg = document.getElementsByClassName("small-img");

        Smallimg[0].onclick = function()
        {
            Productimg.src = Smallimg[0].src;
        }
        Smallimg[1].onclick = function()
        {
            Productimg.src = Smallimg[1].src;
        }
        Smallimg[2].onclick = function()
        {
            Productimg.src = Smallimg[2].src;
        }
        Smallimg[3].onclick = function()
        {
            Productimg.src = Smallimg[3].src;
        }
        
        //magnifier function
        const lens = document.querySelector(".magnifier-lens");
        const product_img = document.querySelector('.image img');
        const magnified_img = document.querySelector('.magnified-img');

        function magnify(product_img,magnified_img){
            product_img.addEventListener('mousemove', movelens)
            lens.addEventListener('mousemove', movelens)
            lens.addEventListener('mouseout', leavelens)
        }

        function movelens(e){
            let x,y, cx, cy;
            // console.log("X: "+e.pageX+" Y: "+e.pageY)
            const product_img_rect = product_img.getBoundingClientRect();
            x = e.pageX - product_img_rect.left - lens.offsetWidth/2;
            y = e.pageY - product_img_rect.top - lens.offsetHeight/2 ;
        
            

            let max_xpos = product_img_rect.width - lens.offsetWidth;
            let max_ypos = product_img_rect.height - lens.offsetHeight;

            if(x > max_xpos) x = max_xpos;
            if (x < 0) x = 0;

            if(y > max_ypos) y = max_ypos;
            if (y < 0) y = 0;
            lens.style.cssText = `top: ${y}px; left: ${x}px`;

            cx = magnified_img.offsetWidth / lens.offsetWidth;
            cy = magnified_img.offsetHeight / lens.offsetHeight;

            magnified_img.style.cssText = `
                                            background: url("${product_img.src}")
                                            -${x * cx}px -${y * cy}px /
                                            ${product_img_rect.width * cx}px ${product_img_rect.height * cy}px
                                            no-repeat
            `;

            lens.classList.add('active');
            magnified_img.classList.add('active');
        }
        function leavelens(){
            lens.classList.remove('active');
            magnified_img.classList.remove('active');
        }

        magnify(product_img,magnified_img)


        //the add-to-cart button function
     var addToCartButtons = document.getElementsByClassName('cartbtn')
     for (var i = 0; i < addToCartButtons.length; i++){
         var buttton = addToCartButtons[i]
         buttton.addEventListener('click',addToCartClicked)
     }
      
     //creating function for add items to cart
function addToCartClicked(event){
    var button = event.target
    var shopItem = button.parentElement.parentElement
    var title = shopItem.getElementsByClassName('product-title')[0].innerText
    var price = shopItem.getElementsByClassName('product-price')[0].innerText
    var imgSrc = shopItem.getElementsByClassName('product-image')[0].src
    localStorage.setItem('product-title',title)
    localStorage.setItem('product-price',price)
    localStorage.setItem('product-image',imgSrc)
    alert("This item is added to the cart.")
    window.location.href = "cart.html"
    // addItemToCart()
}
    </script>
</body>
</html>